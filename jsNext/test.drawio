<mxfile host="drawio-plugin" modified="2022-03-27T08:16:35.980Z" agent="5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36" etag="WKW1atGu4jaF1kjlQhfq" version="15.5.4" type="embed"><diagram id="IcnZ8Gm8dRRDk7OWSnJq" name="Page-1"><mxGraphModel dx="697" dy="515" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="42.5" y="200" width="220" height="560" as="geometry"/></mxCell><mxCell id="3" value="ECS Execution context stack" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1"><mxGeometry x="90" y="160" width="170" height="30" as="geometry"/></mxCell><mxCell id="4" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="290" y="200" width="520" height="560" as="geometry"/></mxCell><mxCell id="5" value="&lt;div&gt;&lt;span&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;Number&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;String&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;Array&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;Function&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;...&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;// 自定义变量&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;name: undefined&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;foo: 0xa00&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;}&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1"><mxGeometry x="360" y="250" width="170" height="170" as="geometry"/></mxCell><mxCell id="6" value="Global Object：ox100" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1"><mxGeometry x="365" y="210" width="140" height="30" as="geometry"/></mxCell><mxCell id="7" value="堆内存" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1"><mxGeometry x="510" y="150" width="60" height="30" as="geometry"/></mxCell><mxCell id="8" value="1. parentScope: ox100 (GO)&lt;br&gt;2. function foo() {&lt;br&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;var name = 'foo'&lt;br&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;console.log(name)&lt;br&gt;}" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1"><mxGeometry x="380" y="510" width="150" height="150" as="geometry"/></mxCell><mxCell id="9" value="Function Ojbect: oxa00" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1"><mxGeometry x="360" y="470" width="180" height="30" as="geometry"/></mxCell><mxCell id="10" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.412;exitY=0.765;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="5" target="9"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="450" y="420" as="sourcePoint"/><mxPoint x="560" y="420" as="targetPoint"/></mxGeometry></mxCell><mxCell id="11" value="GEC 全局执行上下文" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1"><mxGeometry x="62.5" y="470" width="157.5" height="30" as="geometry"/></mxCell><mxCell id="12" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="62.5" y="510" width="180" height="170" as="geometry"/></mxCell><mxCell id="13" value="执行前：&lt;br&gt;VO(ox100): GEC 中的VO 就是GO对象&lt;br&gt;scope chain：[vo]&lt;br&gt;thisBinding: window" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1"><mxGeometry x="72.5" y="520" width="165" height="90" as="geometry"/></mxCell><mxCell id="14" value="开始执行&lt;br&gt;从上往下执行&lt;br&gt;name = ‘zs’ name赋值&lt;br&gt;foo() 函数执行" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1"><mxGeometry x="72.5" y="616" width="165" height="60" as="geometry"/></mxCell><mxCell id="15" value="FEC 函数执行上下文" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1"><mxGeometry x="65" y="220" width="175" height="30" as="geometry"/></mxCell><mxCell id="16" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="65" y="260" width="180" height="170" as="geometry"/></mxCell><mxCell id="17" value="执行前：&lt;br&gt;VO(oxb00): FEC 中的VO 就是AO对象&lt;br&gt;scope chain：[vo + paraent scopes ] 作用域链&lt;br&gt;thisBinding: 调用时决定" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1"><mxGeometry x="75" y="270" width="165" height="90" as="geometry"/></mxCell><mxCell id="18" value="开始执行&lt;br&gt;从上往下执行&lt;br&gt;name = ‘foo' name 被赋值" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1"><mxGeometry x="75" y="366" width="165" height="60" as="geometry"/></mxCell><mxCell id="19" value="&lt;div&gt;&lt;span&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;形参；&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;arguments;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;定义的变量;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#9;&lt;/span&gt;name: undefined&#9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;}&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1"><mxGeometry x="570" y="250" width="170" height="170" as="geometry"/></mxCell><mxCell id="20" value="Activation Object：oxb00" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1"><mxGeometry x="575" y="210" width="140" height="30" as="geometry"/></mxCell><mxCell id="22" value="" style="curved=1;endArrow=classic;html=1;rounded=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="490" y="540" as="sourcePoint"/><mxPoint x="500" y="225" as="targetPoint"/><Array as="points"><mxPoint x="540" y="440"/><mxPoint x="550" y="225"/></Array></mxGeometry></mxCell><mxCell id="23" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="42.5" y="820" width="217.5" height="240" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>