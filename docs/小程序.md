# 小程序

优势：相对H5体验好；相对于传统App使用方便，不需要下载安装

### 原生小程序开发

- 微信小程序
- 支付宝小程序
- ...

### 选择框架开发小程序

- mpvue
  - mpvue是一个使用Vue开发小程序的前端框架，也是 支持 微信小程序、百度智能小程序，头条小程序 和 支付宝小程序； 
  - 该框架在2018年之后就不再维护和更新了，所以目前已经被放弃；
- wepy： 
  - WePY (发音: /'wepi/)是由腾讯开源的，一款让小程序支持组件化开发的框架，通过预编译的手段让开发者可以选择自己喜欢的开 发风格去开发小程序。 
  - 该框架目前维护的也较少，在前两年还有挺多的项目在使用，不推荐使用；
- uni-app： 
  - 由DCloud团队开发和维护； 
  - uni-app 是一个使用 Vue 开发所有前端应用的框架，开发者编写一套代码，可发布到iOS、Android、Web（响应式）、以及各种小程序（微信/支付宝/ 百度/头条/飞书/QQ/快手/钉钉/淘宝）、快应用等多个平台。 
  - uni-app目前是很多公司的技术选型，特别是希望适配移动端App的公司；
- taro： 
  - 由京东团队开发和维护； 
  - taro 是一个开放式 跨端 跨框架 解决方案，支持使用 React/Vue/Nerv 等框架来开发 微信 / 京东 / 百度 / 支付宝 / 字节跳动 / QQ / 飞书 小程序 / H5 / RN 等应用； 
  - taro因为本身支持React、Vue的选择，给了我们更加灵活的选择空间； 
    - 特别是在Taro3.x之后，支持Vue3、React Hook写法等； 
  - taro['tɑ:roʊ]，泰罗·奥特曼，宇宙警备队总教官，实力最强的奥特曼；
- uni-app和 taro开发原生App： 
  - 无论是适配原生小程序还是原生App，都有较多的适配问题，所以你还是需要多了解原生的一些开发知识； 
  - 产品使用体验整体相较于原生App差很多； 
  - 也有其他的技术选项来开发原生App：ReactNative、Flutter；



### 微信小程序开发

#### vant组件库引入

#### 轮播图 swipper 高度默认150px，轮播图高度不确定

- 如何去获取图片的高度
  - image 监听bindload事件，等待图片加载完，获取图片信息
  - 获取image组件的宽度和高度
- 设置图片的高度到swipper
  - 把image组件的高度赋给swipper

#### 小程序兼容问题

- css boder-radius，web-view渲染的bug，有些机型不能正确展示

  - transform: translateY(0); 添加这一行可以解决

  ```css
  .swiper {
    border-radius: 10rpx;
    overflow: hidden;
    transform: translateY(0);
  }
  ```

#### 多页面状态管理以及事件传递

- 数据放到 app.js ->  globalData，缺点：数据不是响应式的
- hy-event



#### 播放页面布局

- flex

#### 播放audio context

- 如何保存context

#### 歌词匹配

- 如何匹配到歌词
- 取两个时间中间的歌词
- 循环判断当前时间小于某一时间，循环停止，取 i - 1 的歌词展示